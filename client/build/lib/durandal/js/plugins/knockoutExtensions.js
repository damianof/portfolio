define(["knockout","jquery"],function(t,e){var n=function(){t.viewmodel=function(e,n,i){Object.keys(n,function(n,i){e[n]=Object.isArray(i)?t.observableArray(i):t.observable(i)}),i&&(e.update=function(t){Object.keys(n,function(n,i){t[n]&&e[n](i)})})},t.bindingHandlers.slideVisible={update:function(n,i,r){var a=i(),o=t.unwrap(a),s=t.unwrap(r().slideDuration)||400;1==o?e(n).slideDown(s):e(n).slideUp(s)}},t.bindingHandlers.enterKey={init:function(e,n,i,r){var a=function(t,e){13===e.keyCode&&n().call(t,t,e)},o=function(){return{keyup:a}};t.bindingHandlers.event.init(e,o,i,r)}},t.observableArray.fn.map=function(e,n){this(t.utils.arrayMap(e,function(t){return new n(t)}))},t.observableArray.fn.pushAll=function(e){return e instanceof Array?(this.valueWillMutate(),t.utils.arrayPushAll(this.peek(),e),this.valueHasMutated(),this.peek().length):this.peek().length},t.subscribable.fn.subscribeChanged=function(t){var e;this.subscribe(function(t){e=t},void 0,"beforeChange"),this.subscribe(function(n){t(n,e)})},t.observableArray.fn.subscribeArrayChanged=function(e,n){var i=void 0;this.subscribe(function(t){i=t.slice(0)},void 0,"beforeChange"),this.subscribe(function(r){for(var a=t.utils.compareArrays(i,r),o=0,s=a.length;s>o;o++)switch(a[o].status){case"retained":break;case"deleted":n&&n(a[o].value,o);break;case"added":e&&e(a[o].value,o)}i=void 0})},t.extenders.numeric=function(e,n){var i=t.computed({read:e,write:function(t){var i=e(),r=Math.pow(10,n.precision||0),a=isNaN(t)?0:parseFloat(+t),o=Math.round(a*r)/r;n.positive&&(o=Math.abs(o)),o!==i?e(o):t!==i&&e.notifySubscribers(o)}});return i(e()),i}};return{install:n}});